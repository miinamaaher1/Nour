@model IEnumerable<XCourse.Core.ViewModels.AssistantViewModels.GroupVM>

@section Styles{
    @* <link rel="stylesheet" href="~/css/Assistants/AcceptedGroups.css"> *@
    <link rel="stylesheet" href="~/css/Assistants/AcceptedGroups.css" />

}

<div class="col-12">

    <!-- Recommended Groups -->
    <div class="container col-11">
        <div class="group-carousel container">
            <div class="container">
                <div class="group-section__title">
                    <h2>Your Groups</h2>
                    @* Not Handeled Yet *@
                    <a asp-action="Details" asp-controller="Group" asp-area="Assistants" class="view-all-link"> View All</a>
                    @* WARNING !!!!!!!!!!!!!!!!!!!!!!!!! WARNING !!!!!!!!!!!!!!!!!!!!*@
                </div>

                <div class="group-carousel">
                    <div class="group-carousel__container">
                        <div class="group-carousel__track" id="carouselTrack">

                            @foreach (var group in Model)
                            {

                                <!-- Group 1 -->
                                <div class="group-carousel__slide">
                                    <a class="group-card" style="text-decoration:none;" asp-action="Details" asp-controller="Group" asp-area="Assistants" asp-route-Id="@group.GroupID">
                                        <div class="group-card">
                                            <div class="group-card__image">
                                                <img src="@(group.GroupPicture != null ? "data:image/*;base64," + Convert.ToBase64String(group.GroupPicture) : Url.Content("~/images/default_group.svg"))"
                                                     alt="@group.Subject.Topic Group">
                                                <div class="group-card__teacher">
                                                    <div class="group-card__teacher-img">
                                                        <img src="@(group.TeacherPicture != null ? "data:image/*;base64," + Convert.ToBase64String(group.TeacherPicture) : Url.Content("~/images/default_user.svg"))"
                                                             alt="@group.TeacherName">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="group-card__content">
                                                <div class="group-card__title">@group.TeacherName</div>
                                                <div class="group-card__subject">@group.Subject.Topic</div>
                                                <div class="group-card__features">
                                                    @if (group.IsOnline)
                                                    {
                                                        <span class="group-card__feature">
                                                            <i class="fas fa-laptop"></i> Online
                                                        </span>
                                                    }
                                                    else
                                                    {
                                                        <span class="group-card__feature">
                                                            <i class="fas fa-building"></i> Offline
                                                        </span>
                                                    }
                                                    @if (group.IsGirlsOnly)
                                                    {
                                                        <span class="group-card__feature">
                                                            <i class="fas fa-female"></i> Girls Only
                                                        </span>
                                                    }
                                                </div>
                                                <div class="group-card__footer">
                                                    <div class="group-card__price">@group.PricePerSession EGP</div>
                                                    <div class="group-card__capacity">
                                                        <i class="fas fa-users"></i>
                                                        @group.CurrentStudents/@group.MaxStudents
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </a>

                                </div>
                            }
                        </div>
                    </div>

                    <div class="group-carousel__controls">
                        <button class="group-carousel__button" id="prevButton">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="group-carousel__button" id="nextButton">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>

                    <div class="group-carousel__dots" id="carouselDots">
                        <!-- Dots will be added here via JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
